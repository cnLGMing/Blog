因之前开发的是公司内部的 OA/IM 类 APP, 并且没有发布到应用市场，同时也未使用到第三方推送SDK，为了提供后续的版本更新，自己写了版本更新的操作。

# 版本更新的两个概念
关于版本更新，需要知道的两个概念，分别：
- versionCode：对消费者不可见，仅用于应用市场、程序内部识别版本，判断新旧等用途。
- versionName：展示给消费者，消费者会通过它认知自己安装的版本。

# 版本更新的流程图
**以下是我写版本更新时的思路流程图：**
![流程图__版本升级.png](https://github.com/cnLGMing/Blog/blob/master/Pictures/%E6%B5%81%E7%A8%8B%E5%9B%BE.png?raw=true)

# 关于开发中版本更新遇到的问题
## 发布了一个 versionCode 错误的版本，怎么办
**场景：** 1.0版本的 versionCode 是1；而1.1版本的 versionCode 被误写成了21；但在之后发布的1.2版本仍然使用的是3. 这样会出现什么问题呢?
**带来的问题就是：** 1.1版本的用户无法升级到1.2版本，因为21>3，在程序看来，1.1的版本反而比1.2的新；以此同时，1.2版本的用户还会收到提示更新到1.1，导致回滚到旧版本，这种体验是极差的。
所以，当我遇到这样的情况时，我是在新版本将 versionCode 直接跳到30，重新开始的。

## 发出去的应用有 Bug ，怎么办
我的做法是分为两种情况：
1. 当 bug 无法再短时间内解决时，直接将之前的旧版本的 versionCode 改大点，提交新版本，供用户下载。
2. bug 可以短时间内解决时，赶紧修复 bug ，加 VersionCode，发布新版本.



------

> **文章若有不对之处，欢迎在 `Issues` 指正，谢谢~**
>
> **邮箱：liuguangmingcn@163.com**

